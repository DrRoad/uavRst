<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>OTB wrapper for Haralick's simple, advanced and higher order texture features. — otbtex_hara • uavRst</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="OTB wrapper for Haralick's simple, advanced and higher order texture features. — otbtex_hara" />
<meta property="og:description" content="OTB wrapper for calculating Haralick's simple, advanced and higher order texture features on every pixel in each channel of the input image" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uavRst</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gisma/uavRst">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>OTB wrapper for Haralick's simple, advanced and higher order texture features.</h1>
    <small class="dont-index">Source: <a href='https://github.com/gisma/uavRst/blob/master/R/rs_textures.R'><code>R/rs_textures.R</code></a></small>
    <div class="hidden name"><code>otbtex_hara.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>OTB wrapper for calculating Haralick's simple, advanced and higher order texture features on every pixel in each channel of the input image</p>
    </div>

    <pre class="usage"><span class='fu'>otbtex_hara</span>(
  <span class='no'>x</span>,
  <span class='kw'>texture</span> <span class='kw'>=</span> <span class='st'>"all"</span>,
  <span class='kw'>output_name</span> <span class='kw'>=</span> <span class='st'>"hara"</span>,
  <span class='kw'>path_output</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>return_raster</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>parameters.xyrad</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>)),
  <span class='kw'>parameters.xyoff</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>)),
  <span class='kw'>parameters.minmax</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>255</span>),
  <span class='kw'>parameters.nbbin</span> <span class='kw'>=</span> <span class='fl'>8</span>,
  <span class='kw'>channel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>otbLinks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ram</span> <span class='kw'>=</span> <span class='st'>"8192"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>Raster*</code> object or a <a href='http://www.gdal.org/frmt_gtiff.html'>GeoTiff</a> containing one or more gray  value bands</p></td>
    </tr>
    <tr>
      <th>texture</th>
      <td><p>type of filter "all" for all, alternative one of "simple" "advanced" "higher"</p></td>
    </tr>
    <tr>
      <th>output_name</th>
      <td><p>string pattern vor individual naming of the output file(s)</p></td>
    </tr>
    <tr>
      <th>path_output</th>
      <td><p>path outut</p></td>
    </tr>
    <tr>
      <th>return_raster</th>
      <td><p>boolean if TRUE a raster stack is returned</p></td>
    </tr>
    <tr>
      <th>parameters.xyrad</th>
      <td><p>list with the x and y radius in pixel indicating the kernel sizes for which the textures are calculated</p></td>
    </tr>
    <tr>
      <th>parameters.xyoff</th>
      <td><p>vector containg the directional offsets. Valid combinations are: list(c(1,1),c(1,0),c(0,1),c(1,-1))</p></td>
    </tr>
    <tr>
      <th>parameters.minmax</th>
      <td><p>minimum/maximum gray value which can occur.</p></td>
    </tr>
    <tr>
      <th>parameters.nbbin</th>
      <td><p>number of gray level bins (classes)</p></td>
    </tr>
    <tr>
      <th>channel</th>
      <td><p>sequence of bands to be processed</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>switch for system messages default is FALSE</p></td>
    </tr>
    <tr>
      <th>otbLinks</th>
      <td><p>list. of OTB tools cli pathes</p></td>
    </tr>
    <tr>
      <th>ram</th>
      <td><p>reserved memory in MB</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>More information at: <a href='https://prism.ucalgary.ca/handle/1880/51900'>texture tutorial</a>
Keep in mind that:<br />
Homogeneity is correlated with Contrast,  r = -0.80<br />
Homogeneity is correlated with Dissimilarity, r = -0.95<br />
GLCM Variance is correlated with Contrast,  r= 0.89<br />
GLCM Variance is correlated with Dissimilarity,  r= 0.91<br />
GLCM Variance is correlated with Homogeneity,  r= -0.83<br />
Entropy is correlated with ASM,  r= -0.87<br />
GLCM Mean and Correlation are more independent. For the same image, GLCM Mean shows  r&lt; 0.1 with any of the other texture measures demonstrated in this tutorial. GLCM Correlation shows  r&lt;0.5 with any other measure.
for a review of a lot of feature extraction algorithms look at: <a href='https://doi.org/10.1117/1.JEI.21.2.023016'>Williams et al, 2012, J. of Electronic Imaging, 21(2), 023016 (2012)</a><br />
glcm &lt;-&gt; haralick "mean" &lt;-&gt; "advanced 1", "variance" &lt;-&gt; "advanced 2", "homogeneity" &lt;-&gt; "simple 4", "contrast"&lt;-&gt; "simple 5", "dissimilarity" &lt;-&gt; "advanced 2", "entropy" &lt;-&gt; "simple 2", "second_moment"&lt;-&gt; "simple 4", "correlation" &lt;-&gt; "simple 3"
Furthermore using stats will cover mean and variance while dissimilarity is highly correlated to homogeneity data.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Haralick, R.M., K. Shanmugam and I. Dinstein. 1973. Textural Features for Image Classification.
IEEE Transactions on Systems, Man and Cybernetics. SMC-3(6):610-620.<br />
<a href='https://www.orfeo-toolbox.org/packages/OTBSoftwareGuide.pdf'>Orfeo Toolbox Sofware Guide, 2016</a><br />
<a href='https://www.orfeo-toolbox.org//doxygen/classotb_1_1ScalarImageToTexturesFilter.html'>"simple"</a>:<br />
computes the following 8 local Haralick textures features: Energy, Entropy, Correlation, Inverse Difference Moment, Inertia, Cluster Shade, Cluster Prominence and Haralick Correlation. They are provided in this exact order in the output image. Thus, this application computes the following Haralick textures over a neighborhood with user defined radius.<br />
To improve the speed of computation, a variant of Grey Level Co-occurrence Matrix(GLCM) called Grey Level Co-occurrence Indexed List (GLCIL) is used. Given below is the mathematical explanation on the computation of each textures. Here <code>g( i,j)</code> is the frequency of element in the GLCIL whose index is <code>i,j</code>. GLCIL stores a pair of frequency of two pixels from the given offset and the cell index <code>(i,j)</code> of the pixel in the neighborhood window. Where each element in GLCIL is a pair of pixel index and it's frequency, <code>g(i,j)</code> is the frequency value of the pair having index is <code>i,j</code>.<br /><br />
Energy  <img src='figures/form_Energy.png' alt='options:alt="Energy"' /><br />
Entropy  <img src='figures/form_entropy1.png' alt='options:alt="Entropy"' /><br />
Correlation  <img src='figures/form_Correlation.png' alt='options:alt="Correlation"' /><br />
Inertia (contrast)  <img src='figures/form_Contrast.png' alt='options:alt="Inertia (Contrast)"' /><br />
Cluster Shade  <img src='figures/form_Cluster_Shade.png' alt='options:alt="Cluster Shade"' /><br />
Cluster Prominence  <img src='figures/form_Cluster_Prominence.png' alt='options:alt="Cluster Prominence"' /><br />
Haralick's Correlation  <img src='figures/form_Hara_Cor.png' alt='options:alt="Haralick's Correlation"' /><br /><br />
<a href='https://www.orfeo-toolbox.org//doxygen/classotb_1_1ScalarImageToAdvancedTexturesFilter.html'>"advanced"</a>:<br />
computes the following 10 texture features: Mean, Variance, Dissimilarity, Sum Average, Sum Variance, Sum Entropy, Difference of Entropies, Difference of Variances, IC1 and IC2. They are provided in this exact order in the output image. The textures are computed over a sliding window with user defined radius. To improve the speed of computation, a variant of Grey Level Co-occurrence Matrix(GLCM) called Grey Level Co-occurrence Indexed List (GLCIL) is used. Given below is the mathematical explanation on the computation of each textures. Here <code>g( i,j)</code> is the frequency of element in the GLCIL whose index is <code> i,j</code>. GLCIL stores a pair of frequency of two pixels from the given offset and the cell index <code>( i,j)</code> of the pixel in the neighborhood window. (where each element in GLCIL is a pair of pixel index and it's frequency, <code>g( i,j)</code> is the frequency value of the pair having index is <code> i,j</code>.<br /><br /></p>
<p>Mean  <img src='figures/form_mean.png' alt='options:alt="Mean"' /><br />
Sum of squares: Variance  <img src='figures/form_form_sum_of_squares_variance.png' alt='options:alt="Sum of squares: Variance"' /><br />
Dissimilarity <img src='figures/form_Dissimilarity.png' alt='options:alt="Dissimilarity"' /><br />
Sum average <img src='figures/form_Sum_average.png' alt='options:alt="Sum average"' /><br />
Sum Variance <img src='figures/form_Sum_Variance.png' alt='options:alt="Sum Variance"' /><br />
Sum Entropy <img src='figures/form_Sum_Entropy.png' alt='options:alt="Sum Entropy"' /><br />
Difference variance <img src='figures/form_Difference_variance.png' alt='options:alt="Difference variance"' /><br />
Difference entropy <img src='figures/form_Difference_entropy.png' alt='options:alt="Difference entropy"' /><br />
Information Measures of Correlation IC1 <img src='figures/form_Information_Measures_of_Correlation_IC1.png' alt='options:alt="Information Measures of Correlation IC1"' /><br />
Information Measures of Correlation IC2 <img src='figures/form_Information_Measures_of_Correlation_IC2.png' alt='options:alt="Information Measures of Correlation IC2"' /><br /><br /></p>
<p><a href='https://www.orfeo-toolbox.org//doxygen/classotb_1_1ScalarImageToHigherOrderTexturesFilter.html'>"higher"</a>: <br /><br />
computes 11 local higher order statistics textures coefficients based on the grey level run-length matrix.
It computes the following Haralick textures over a sliding window with user defined radius: (where p( i,j) is the element in cell  i,j of a normalized Run Length Matrix (n_r) is the total number of runs and n_p is the total number of pixels ):<br /></p>
<p>Short Run Emphasis <img src='figures/form_Short_Run_Emphasis.png' alt='options:alt="Short_Run_Emphasis"' /><br />
Long Run Emphasis <img src='figures/form_Long_Run_Emphasis.png' alt='options:alt="Long Run Emphasis"' /><br />
Grey-Level Nonuniformity <img src='figures/form_Grey_Level_Nonuniformity.png' alt='options:alt="Grey-Level Nonuniformity"' /><br />
Run Length Nonuniformity <img src='figures/form_Run_Length_Nonuniformity.png' alt='options:alt="Run Length Nonuniformity"' /><br />
Low Grey-Level Run Emphasis <img src='figures/form_Low_Grey_Level_Run_Emphasis.png' alt='options:alt="Low Grey-Level Run Emphasis"' /><br />
High Grey-Level Run Emphasis <img src='figures/form_High_Grey_Level_Run_Emphasis.png' alt='options:alt="High Grey-Level Run Emphasis"' /><br />
Short Run Low Grey-Level Emphasis <img src='figures/form_Short_Run_Low_Grey_Level_Emphasis.png' alt='options:alt="Short Run Low Grey-Level Emphasis"' /><br />
Short Run High Grey-Level Emphasis <img src='figures/form_Short_Run_High_Grey_Level_Emphasis.png' alt='options:alt="Short Run High Grey-Level Emphasis"' /><br />
Long Run Low Grey-Level Emphasis <img src='figures/form_Long_Run_Low_Grey_Level_Emphasis.png' alt='options:alt="Long Run Low Grey-Level Emphasis"' /><br />
Long Run High Grey-Level Emphasis <img src='figures/form_Long_Run_High_Grey_Level_Emphasis.png' alt='options:alt="Long Run High Grey-Level Emphasis"' /><br /></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># load libraries</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='no'>uavRst</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='no'>link2GI</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='no'>listviewer</span>)

<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>())

<span class='co'># check if OTB exists</span>
<span class='no'>otbLinks</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>link2GI</span><span class='kw ns'>::</span><span class='fu'><a href='https://r-spatial.github.io/link2GI/reference/linkOTB.html'>linkOTB</a></span>()

<span class='kw'>if</span> (<span class='no'>otbLinks</span>$<span class='no'>exist</span>) {
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"rgb"</span>)
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/plotRGB.html'>plotRGB</a></span>(<span class='no'>rgb</span>)
<span class='no'>fn</span><span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(),<span class='st'>"rgb.tif"</span>)
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/writeRaster.html'>writeRaster</a></span>(<span class='no'>rgb</span>,
                    <span class='kw'>filename</span><span class='kw'>=</span><span class='no'>fn</span>,
                    <span class='kw'>format</span><span class='kw'>=</span><span class='st'>"GTiff"</span>,
                    <span class='kw'>overwrite</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># get help</span>
<span class='no'>cmd</span><span class='kw'>&lt;-</span><span class='kw pkg'>link2GI</span><span class='kw ns'>::</span><span class='fu'><a href='https://r-spatial.github.io/link2GI/reference/parseOTBFunction.html'>parseOTBFunction</a></span>(<span class='kw'>algo</span> <span class='kw'>=</span> <span class='st'>"HaralickTextureExtraction"</span>,<span class='kw'>gili</span><span class='kw'>=</span><span class='no'>otbLinks</span>)
<span class='kw pkg'>listviewer</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/listviewer/man/jsonedit.html'>jsonedit</a></span>(<span class='no'>cmd</span>$<span class='no'>help</span>)

<span class='co'># calculate simple Haralick-textures for 3 red, green and blue channel</span>
<span class='no'>r</span> <span class='kw'>&lt;-</span> <span class='fu'>otbtex_hara</span>(<span class='kw'>x</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(),<span class='st'>"rgb.tif"</span>),
                 <span class='kw'>texture</span> <span class='kw'>=</span> <span class='st'>"simple"</span>,
                 <span class='kw'>return_raster</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                 <span class='kw'>otbLinks</span> <span class='kw'>=</span>  <span class='no'>otbLinks</span>)

<span class='co'># visualize all layers</span>
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>(<span class='no'>r</span>)
}
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Chris Reudenbach</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Chris Reudenbach, Hanna Meyer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


